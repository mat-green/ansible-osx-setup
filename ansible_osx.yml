---
- hosts: localhost
  tasks:
    - name: Homebrew
      include_role:
        name: homebrew
        args:
          homebrew_casks:
            - 1password
            - android-sdk
            - android-studio
            - datagrip
            - docker
            - dropbox
            - figma
            - google-chrome
            - google-cloud-sdk
            - iterm2
            - kindle
            - ngrok
            - slack
            - sublime-text
            - telegram
            - visual-studio-code
            - vlc
            - zoom
            - tuple
          homebrew_packages:
            - autoconf
            - automake
            - aws-iam-authenticator
            - awscli
            - bfg
            - coreutils
            - curl
            - dbt@0.18.0
            - direnv
            - dnsmasq
            - fzf
            - gnu-time
            - gpg
            - heroku
            - htop
            - imagemagick@6
            - kubectx
            - kubernetes-cli
            - kubernetes-helm
            - libtool
            - libxslt
            - libyaml
            - mas
            - openssl
            - pkg-config
            - postgresql
            - rcm
            - readline
            - redis
            - sqlite3
            - tmux
            - unixodbc
            - unzip
            - vim
            - watchman
            - xz
            - yarn
            - zlib
            - zsh
          homebrew_taps:
            - adoptopenjdk/openjdk,
            - fishtown-analytics/dbt
            - heroku/brew
            - homebrew/cask-versions
            - thoughtbot/formulae
            - weaveworks/tap

    - name: "Install from Mac app store"
      shell: mas install {{ item }}
      with_items:
        - 497799835 # xcode

    - name: Oh-My-Zsh
      include_role:
        name: oh-my-zsh

    - name: VSCode
      include_role:
        name: vscode
        args:
          vscode_extensions:
            - apollographql.vscode-apollo
            - bradlc.vscode-tailwindcss
            - castwide.solargraph
            - clinyong.vscode-css-modules
            - eamodio.gitlens
            - jakebecker.elixir-ls
            - kaiwood.endwise
            - karunamurti.haml
            - ms-vscode-remote.vscode-remote-extensionpack
            - ms-vscode.vscode-typescript-tslint-plugin
            - msjsdiag.debugger-for-chrome
            - rebornix.ruby
            - richie5um2.vscode-sort-json
            - Tyriar.sort-lines
            - vscodevim.vim
            - wholroyd.jinja
            - wingrunr21.vscode-ruby
            - xabikos.javascriptsnippets
            - streetsidesoftware.code-spell-checker
            - fabiospampinato.vscode-todo-plus

    - name: ASDF-VM
      include_role:
        name: asdf
        args:
          asdf_plugins:
            - nodejs
            - python
            - ruby
            - terraform
          # asdf_yarn_packages:
          #   - react-native-cli
          #   - create-react-app
          #   - apollo
          #   - generator-generator
          #   - yo
