#!/bin/bash

while getopts n:e: flag
do
    case "${flag}" in
        n) GIT_NAME=${OPTARG};;
        e) GIT_EMAIL=${OPTARG};;
    esac
done

EXTRA_VARS=""
if [[ -v GIT_NAME && -n $GIT_NAME ]]; then
  EXTRA_VARS="git_name=$GIT_NAME";
fi

if [[ -v GIT_EMAIL && -n $GIT_EMAIL ]]; then
  EXTRA_VARS="git_email=$GIT_EMAIL ${EXTRA_VARS}";
fi


if [[ -n $EXTRA_VARS ]]; then
  ansible-playbook -i "localhost," -c local ansible_zorin_os.yml  --extra-vars "$EXTRA_VARS" --ask-become-pass -v
else
  ansible-playbook -i "localhost," -c local ansible_zorin_os.yml --ask-become-pass -v
fi

